<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="../../css/navbar.css">
    <link rel = "stylesheet" type = "text/css" href="../../css/appointment-picker.css">
    <link rel="stylesheet" href="../../css/addemployee.css">
    <base href="../../">
</head>
<body> 

  <%- include('./models/nav'); %>
<div class="row" id="banner-element-top">
  <h1 id ="bantop" class="ban">Add New Employee</h1>
</div>
<div class = "cont container-form">
    <form  method="POST" name="newemployee" id="newemployee" >
<div class="row banner-element">
  <h2 id ="ban1"class="ban">Personal Details</h2>
</div>
        <div class = "row form-group">
            <label for="firstname" id="namelabel" class = "col-sm-2">First Name:</label>
            <div class = "col-sm-3">
            <input id="firstname" name="firstname" type="text"></div>
            
            <label for="lastname" id="namelabel" class = "col-sm-2">Last Name:</label>
            <div class = "col-sm-3">
            <input id="lastname" type="text"name="lastname"></div>
        </div>
        <div class="row form-group">
            <label for ="email" class="col-sm-3">Email Address:</label> <div class = "col-sm-3">
                <input id="email" name="email"  type="text"></div><div class = "col-sm-6"></div></div>
                <div class="row form-group">
                <label for ="phone" class="col-sm-3">Phone Number:</label> <div class = "col-sm-3">
                    <input name="phone"  id="phone" type="text"></div><div class = "col-sm-6"></div>
                
        </div>
        <div class="row banner-element">
          <h2 class="ban" id ="ban2">When Do They Work?</h2>
        </div>
        <div class="row info">
          <p class="col-sm-1"><strong>Day</strong></p><p id="notworking" class="col-sm-3"><strong>Not Working:</strong></p><p class="col-sm-4" id ="from"><strong>From:</strong></p><p id="until"class="col-sm-2"><strong>Until:</strong></p>
        </div>
            <div class="form-group row">
                <label for="notworking-mon" class="col-sm-2">Monday:</label>
                <div class="form-check col-sm-2">
                <input type="button" class="form-check-input working" id="notworking-mon" onclick="NotWorkingMon()"></div>
                <input type="text" id ="timepicker-mon1" class="col-sm-3">
                <div class="col-sm-1"></div>
                <input type="text" id ="timepicker-mon2" class="col-sm-3">
                <div class="col-sm-1"></div>
            </div>
            <div class="form-group row">
                <label for="timepicker-tue1" class="col-sm-2">Tuesday:</label>
                <div class="form-check col-sm-2">
                  <input type="button" class="working form-check-input" onclick="NotWorkingTue()" id="notworking-tue"></div>
                  <input type="text" id ="timepicker-tue1" class="col-sm-3">
                  <div class="col-sm-1"></div>
                <input type="text" id ="timepicker-tue2" class="col-sm-3">
                <div class="col-sm-1"></div>
            </div>
            <div class="form-group row">
                <label for="timepicker-wed1" class="col-sm-2">Wednesday:</label>
                <div class="form-check col-sm-2">
                  <input type="button" class="working form-check-input" onclick="NotWorkingWed()"id="notworking-wed"></div>
                  <input type="text" id ="timepicker-wed1" class="col-sm-3">
                  <div class="col-sm-1"></div>
                <input type="text" id ="timepicker-wed2" class="col-sm-3">
                <div class="col-sm-1"></div>
            </div>
            <div class="form-group row">
                <label for="timepicker-thu1" class="col-sm-2">Thursday:</label>
                <div class="form-check col-sm-2">
                  <input type="button" class="working form-check-input" onclick="NotWorkingThu()" id="notworking-thu"></div>
                  <input type="text" id ="timepicker-thu1" class="col-sm-3">
                  <div class="col-sm-1"></div>
                <input type="text" id ="timepicker-thu2" class="col-sm-3">
                <div class="col-sm-1"></div>
            </div>
            <div class="form-group row">
                <label for="timepicker-fri1" class="col-sm-2">Friday:</label>
                <div class="form-check col-sm-2">
                  <input type="button" class="working form-check-input"onclick="NotWorkingFri()" id="notworking-fri"></div>
                  <input type="text" id ="timepicker-fri1"  class="col-sm-3">
                  <div class="col-sm-1"></div>
                <input type="text" id ="timepicker-fri2" class="col-sm-3">
                <div class="col-sm-1"></div>
            </div>
            <div class="form-group row">
                <label for="timepicker-sat1" class="col-sm-2">Saturday:</label>
                <div class="form-check col-sm-2">
                  <input type="button" class="working form-check-input" onclick="NotWorkingSat()" id="notworking-sat"></div>
                  <input type="text" id ="timepicker-sat1" class="col-sm-3">
                  <div class="col-sm-1"></div>
                <input type="text" id ="timepicker-sat2" class="col-sm-3">
                <div class="col-sm-1"></div>
            </div>
            <div class="form-group row">
                <label for="timepicker-sun1" class="col-sm-2">Sunday:</label>
                <div class="form-check col-sm-2">
                  <input type="button" class="working form-check-input" onclick="NotWorkingSun()" id="notworking-sun"></div>
                  <input type="text" id ="timepicker-sun1" class="col-sm-3">
                  <div class="col-sm-1"></div>
                <input type="text" id ="timepicker-sun2" class="col-sm-3">
                <div class="col-sm-1"></div>
            </div>
            <div class="row banner-element">
              <h2 id ="ban3" class="ban">Which Treatments Can They Perform?</h2>
            </div>
            <% TreatmentList.forEach(val => { %>
                <div class="form-group row treatments">
                    <div class="col-sm-4"><label for="<%= val.treatment.replace("'", "").replace(" ", "") %>"><%= val.treatment %>:</label></div>
                    <div class="col-sm-2"> </div>
                        <input name="<%= val.treatment %>" id="<%= val.treatment.replace("'", "").replace(" ", "")  %>" type="button" class="col-sm-1 btn-unclicked" onclick="TreatmentClick('<%= val.treatment.replace("'", "").replace(" ", "")  %>')">
                        <div class="col-sm-5"> </div>
                    </div>
            <% }); %> 

        <div class="form-group row">
            <div class="col-sm-5"></div><input id="submit" type="submit" value="Add Employee" class="btn btn-primary col-sm-2"><div class="col-sm-5"></div>
        </div>

</form></div>

<!-- Function used to shrink nav bar removing paddings and adding black background -->

<script src="https://code.jquery.com/jquery-3.5.1.min.js"   integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="   crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
<script src="../../js/appointment-picker.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.2/jquery.validate.min.js" integrity="sha512-UdIMMlVx0HEynClOIFSyOrPggomfhBKJE28LKl8yR3ghkgugPnG6iLfRfHwushZl1MOPSY6TsuBDGPK2X4zYKg==" crossorigin="anonymous"></script>
<script>


var TreatmentList = <%- JSON.stringify(TreatmentList || null) %>,
    id = <%- JSON.stringify(id || null) %>,
    WeeklySchedule     = <%- JSON.stringify(weekday_schedule || null) %>;
    //Navbar JS
    console.log(WeeklySchedule);
  $(window).scroll(function() {
      if ($(document).scrollTop() > 400) {
          $('.nav').addClass('affix');
      } else {
          $('.nav').removeClass('affix');
      }
  });


  function TreatmentClick(id) {
    var e = document.getElementById(id);
    
    if (e.className && e.className.indexOf('btn-unclicked') != -1) {
    document.getElementById(id).classList.add("btn-clicked");
    document.getElementById(id).classList.remove("btn-unclicked");}
    else {
    document.getElementById(id).classList.add("btn-unclicked");
    document.getElementById(id).classList.remove("btn-clicked");
    }
  }
  
    // Timepickers for every start and end date

    var pickermon1 = new AppointmentPicker(document.getElementById('timepicker-mon1'), {
	interval: 60,
	mode: '24h',
    title: "",
  large: true,
	minTime: WeeklySchedule.mon_start,
	maxTime: WeeklySchedule.mon_end,
	startTime: 6,
	endTime: 22,
    leadingZero: true,
    templateInner: '<li class="appo-picker-list-item {{disabled}}"><input type="button" tabindex="-1" value="{{time}}" {{disabled}}></li>',
  templateOuter: '<span class="appo-picker-title">{{title}}</span><ul class="appo-picker-list">{{innerHtml}}</ul>'

});
var pickermon2 = new AppointmentPicker(document.getElementById('timepicker-mon2'), {
	interval: 60,
	mode: '24h',
    title: "",
	minTime: WeeklySchedule.mon_start,
	maxTime: WeeklySchedule.mon_end,
	startTime: 6,
  large: true,
	endTime: 22,
    leadingZero: true,
    templateInner: '<li class="appo-picker-list-item {{disabled}}"><input type="button" tabindex="-1" value="{{time}}" {{disabled}}></li>',
  templateOuter: '<span class="appo-picker-title">{{title}}</span><ul class="appo-picker-list">{{innerHtml}}</ul>'

});
var pickertue1 = new AppointmentPicker(document.getElementById('timepicker-tue1'), {
	interval: 60,
	mode: '24h',
    title: "",
	minTime: WeeklySchedule.tue_start,
	maxTime: WeeklySchedule.tue_end,
	startTime: 6,
	endTime: 22,
  large: true,
    leadingZero: true,
    templateInner: '<li class="appo-picker-list-item {{disabled}}"><input type="button" tabindex="-1" value="{{time}}" {{disabled}}></li>',
  templateOuter: '<span class="appo-picker-title">{{title}}</span><ul class="appo-picker-list">{{innerHtml}}</ul>'

});
var pickertue2 = new AppointmentPicker(document.getElementById('timepicker-tue2'), {
	interval: 60,
	mode: '24h',
    title: "",
	minTime: WeeklySchedule.tue_start,
	maxTime: WeeklySchedule.tue_end,
	startTime: 6,
	endTime: 22,
  large: true,
    leadingZero: true,
    templateInner: '<li class="appo-picker-list-item {{disabled}}"><input type="button" tabindex="-1" value="{{time}}" {{disabled}}></li>',
  templateOuter: '<span class="appo-picker-title">{{title}}</span><ul class="appo-picker-list">{{innerHtml}}</ul>'

});
var pickerwed1 = new AppointmentPicker(document.getElementById('timepicker-wed1'), {
	interval: 60,
	mode: '24h',
    title: "",
	minTime: WeeklySchedule.wed_start,
	maxTime: WeeklySchedule.wed_end,
	startTime: 6,
	endTime: 22,
  large: true,
    leadingZero: true,
    templateInner: '<li class="appo-picker-list-item {{disabled}}"><input type="button" tabindex="-1" value="{{time}}" {{disabled}}></li>',
  templateOuter: '<span class="appo-picker-title">{{title}}</span><ul class="appo-picker-list">{{innerHtml}}</ul>'

});
var pickerwed2 = new AppointmentPicker(document.getElementById('timepicker-wed2'), {
	interval: 60,
	mode: '24h',
  large: true,
    title: "",
	minTime: WeeklySchedule.wed_start,
	maxTime: WeeklySchedule.wed_end,
	startTime: 6,
	endTime: 22,
    leadingZero: true,
    templateInner: '<li class="appo-picker-list-item {{disabled}}"><input type="button" tabindex="-1" value="{{time}}" {{disabled}}></li>',
  templateOuter: '<span class="appo-picker-title">{{title}}</span><ul class="appo-picker-list">{{innerHtml}}</ul>'

});
var pickerthu1 = new AppointmentPicker(document.getElementById('timepicker-thu1'), {
	interval: 60,
	mode: '24h',
    title: "",
	minTime: WeeklySchedule.thu_start,
	maxTime: WeeklySchedule.thu_end,
	startTime: 6,
	endTime: 22,
    leadingZero: true,
  large: true,
    templateInner: '<li class="appo-picker-list-item {{disabled}}"><input type="button" tabindex="-1" value="{{time}}" {{disabled}}></li>',
  templateOuter: '<span class="appo-picker-title">{{title}}</span><ul class="appo-picker-list">{{innerHtml}}</ul>'

});
var pickerthu2 = new AppointmentPicker(document.getElementById('timepicker-thu2'), {
	interval: 60,
	mode: '24h',
    title: "",
	minTime: WeeklySchedule.thu_start,
	maxTime: WeeklySchedule.thu_end,
	startTime: 6,
	endTime: 22,
    leadingZero: true,
  large: true,
    templateInner: '<li class="appo-picker-list-item {{disabled}}"><input type="button" tabindex="-1" value="{{time}}" {{disabled}}></li>',
  templateOuter: '<span class="appo-picker-title">{{title}}</span><ul class="appo-picker-list">{{innerHtml}}</ul>'

});
var pickerfri1 = new AppointmentPicker(document.getElementById('timepicker-fri1'), {
	interval: 60,
    title: "",
	mode: '24h',
	minTime: WeeklySchedule.fri_start,
	maxTime: WeeklySchedule.fri_end,
	startTime: 6,
	endTime: 22,
    leadingZero: true,
  large: true,
    templateInner: '<li class="appo-picker-list-item {{disabled}}"><input type="button" tabindex="-1" value="{{time}}" {{disabled}}></li>',
  templateOuter: '<span class="appo-picker-title">{{title}}</span><ul class="appo-picker-list">{{innerHtml}}</ul>'

});
var pickerfri2 = new AppointmentPicker(document.getElementById('timepicker-fri2'), {
	interval: 60,
    title: "",
	mode: '24h',
	minTime: WeeklySchedule.fri_start,
	maxTime: WeeklySchedule.fri_end,
	startTime: 6,
	endTime: 22,
    leadingZero: true,
  large: true,
    templateInner: '<li class="appo-picker-list-item {{disabled}}"><input type="button" tabindex="-1" value="{{time}}" {{disabled}}></li>',
  templateOuter: '<span class="appo-picker-title">{{title}}</span><ul class="appo-picker-list">{{innerHtml}}</ul>'

});
var pickersat1 = new AppointmentPicker(document.getElementById('timepicker-sat1'), {
	interval: 60,
	mode: '24h',
    title: "",
	minTime: WeeklySchedule.sat_start,
	maxTime: WeeklySchedule.sat_end,
	startTime: 6,
	endTime: 22,
  large: true,
    leadingZero: true,
    templateInner: '<li class="appo-picker-list-item {{disabled}}"><input type="button" tabindex="-1" value="{{time}}" {{disabled}}></li>',
  templateOuter: '<span class="appo-picker-title">{{title}}</span><ul class="appo-picker-list">{{innerHtml}}</ul>'

});
var pickersat2 = new AppointmentPicker(document.getElementById('timepicker-sat2'), {
    interval: 60,
    title: "",
	mode: '24h',
	minTime: WeeklySchedule.sat_start,
	maxTime: WeeklySchedule.sat_end,
	startTime: 6,
	endTime: 22,
  large: true,
    leadingZero: true,
    templateInner: '<li class="appo-picker-list-item {{disabled}}"><input type="button" tabindex="-1" value="{{time}}" {{disabled}}></li>',
  templateOuter: '<span class="appo-picker-title">{{title}}</span><ul class="appo-picker-list">{{innerHtml}}</ul>'

});
var pickersun1 = new AppointmentPicker(document.getElementById('timepicker-sun1'), {
	interval: 60,
	mode: '24h',
    title: "",
	minTime: WeeklySchedule.sun_start,
	maxTime: WeeklySchedule.sun_end,
	startTime: 6,
	endTime: 22,
    leadingZero: true,
  large: true,
    templateInner: '<li class="appo-picker-list-item {{disabled}}"><input type="button" tabindex="-1" value="{{time}}" {{disabled}}></li>',
  templateOuter: '<span class="appo-picker-title">{{title}}</span><ul class="appo-picker-list">{{innerHtml}}</ul>'

});
var pickersun2 = new AppointmentPicker(document.getElementById('timepicker-sun2'), {interval: 60,
	mode: '24h',
    title: "",
  large: true,
	minTime: WeeklySchedule.sun_start,
	maxTime: WeeklySchedule.sun_end,
	startTime: 6,
	endTime: 22,
    leadingZero: true,
    templateInner: '<li class="appo-picker-list-item {{disabled}}"><input type="button" tabindex="-1" value="{{time}}" {{disabled}}></li>',
  templateOuter: '<span class="appo-picker-title">{{title}}</span><ul class="appo-picker-list">{{innerHtml}}</ul>'

});

function onsubmit(){

  
    if (
    pickermon1.picker != null &&
    pickermon2.picker != null &&
    pickertue1.picker != null &&
    pickertue2.picker != null &&
    pickerwed1.picker != null &&
    pickerwed2.picker != null &&
    pickerthu1.picker != null &&
    pickerthu2.picker != null &&
    pickerfri1.picker != null &&
    pickerfri2.picker != null &&
    pickersat1.picker != null &&
    pickersat2.picker != null &&
    pickersun1.picker != null &&
    pickersun2.picker != null){
        
        var Monday    = [pickermon1,pickermon2];
        var Tuesday   = [pickertue1,pickertue2];
        var Wednesday = [pickerwed1,pickerwed2];
        var Thursday  = [pickerthu1,pickerthu2];
        var Friday    = [pickerfri1,pickerfri2];
        var Saturday  = [pickersat1,pickersat2];
        var Sunday    = [pickersun1,pickersun2];
        var Weekdays =  [Monday, Tuesday, Wednesday,Thursday, Friday, Saturday, Sunday];

        var weekdays = new Array();
        var Treatments = new Array();

        for (var i = 0; i <TreatmentList.length; i++){
          if (document.getElementById(TreatmentList[i].treatment).className.indexOf("btn-clicked") != -1){
            Treatments.push(TreatmentList[i].treatment);
          }
        }

        for (var i = 0; i < 7; i++){
          
          if (Weekdays[i][0].getTime().h < Weekdays[i][1].getTime().h){
              var start_time = Weekdays[i][0].getTime().h;
              var end_time   = Weekdays[i][1].getTime().h;

              weekdays.push([start_time,end_time]);


          }
          else{
            weekdays.push([0,0]);
          }
        }
        var Hairdresser = {first_name: document.getElementById("firstname").value, last_name: document.getElementById("lastname").value, email: document.getElementById("email").value, phone: document.getElementById("phone").value};

        $.ajax({
        type: 'POST',
        url: '/'+id+'/employees/new',
        data: JSON.stringify({
            Weekdays: weekdays,
            Treatments: Treatments,
            Hairdresser: Hairdresser
        }),
         contentType: "application/json",
        success: function (data,textStatus, jqXHR) {
            // console.log("Hurray");
            window.location = data.redirect;
        },
        error: (err)=>{console.log("error");}
    })
        
    }
    else {
        console.log("that's not it");
    }
}

var notworkingmon = false;
var notworkingtue = false;
var notworkingwed = false;
var notworkingthu = false;
var notworkingfri = false;
var notworkingsat = false;
var notworkingsun = false;

function NotWorkingMon(){
notworkingmon = !notworkingmon;

if (notworkingmon){
  $("#timepicker-mon1").hide();
  $("#timepicker-mon2").hide();
  pickermon1.setTime("12:00");
  pickermon2.setTime("12:00");
  pickermon1.picker = "12:00";
  pickermon2.picker = "12:00";
  document.getElementById("notworking-mon").classList.add("notworking");
  document.getElementById("notworking-mon").classList.remove("working");
}
else {
  pickermon1.picker = null;
  pickermon2.picker = null;
  pickermon1.setTime("");
  pickermon2.setTime("");
  $("#timepicker-mon1").show();
  $("#timepicker-mon2").show();
  document.getElementById("notworking-mon").classList.add("working");
  document.getElementById("notworking-mon").classList.remove("notworking");
}
}
function NotWorkingTue(){
notworkingtue = !notworkingtue;

if (notworkingtue){
  $("#timepicker-tue1").hide();
  $("#timepicker-tue2").hide();
  pickertue1.setTime("12:00");
  pickertue2.setTime("12:00");
  pickertue1.picker = "12:00";
  pickertue2.picker = "12:00";
  document.getElementById("notworking-tue").classList.add("notworking");
  document.getElementById("notworking-tue").classList.remove("working");
}
else {
  pickertue1.picker = null;
  pickertue2.picker = null;
  pickertue1.setTime("");
  pickertue2.setTime("");
  $("#timepicker-tue1").show();
  $("#timepicker-tue2").show();
  document.getElementById("notworking-tue").classList.add("working");
  document.getElementById("notworking-tue").classList.remove("notworking");
}
}

function NotWorkingWed(){
notworkingwed = !notworkingwed;

if (notworkingwed){
  $("#timepicker-wed1").hide();
  $("#timepicker-wed2").hide();
  pickerwed1.setTime("12:00");
  pickerwed2.setTime("12:00");
  pickerwed1.picker = "12:00";
  pickerwed2.picker = "12:00";
  document.getElementById("notworking-wed").classList.add("notworking");
  document.getElementById("notworking-wed").classList.remove("working");
}
else {
  pickerwed1.picker = null;
  pickerwed2.picker = null;
  pickerwed1.setTime("");
  pickerwed2.setTime("");
  $("#timepicker-wed1").show();
  $("#timepicker-wed2").show();
  document.getElementById("notworking-wed").classList.add("working");
  document.getElementById("notworking-wed").classList.remove("notworking");
}
}
function NotWorkingThu(){
notworkingthu = !notworkingthu;

if (notworkingthu){
  $("#timepicker-thu1").hide();
  $("#timepicker-thu2").hide();
  pickerthu1.setTime("12:00");
  pickerthu2.setTime("12:00");
  pickerthu1.picker = "12:00";
  pickerthu2.picker = "12:00";
  document.getElementById("notworking-thu").classList.add("notworking");
  document.getElementById("notworking-thu").classList.remove("working");
}
else {
  pickerthu1.picker = null;
  pickerthu2.picker = null;
  pickerthu1.setTime("");
  pickerthu2.setTime("");
  $("#timepicker-thu1").show();
  $("#timepicker-thu2").show();
  document.getElementById("notworking-thu").classList.add("working");
  document.getElementById("notworking-thu").classList.remove("notworking");
}
}
function NotWorkingFri(){
notworkingfri = !notworkingfri;

if (notworkingfri){
  $("#timepicker-fri1").hide();
  $("#timepicker-fri2").hide();
  pickerfri1.setTime("12:00");
  pickerfri2.setTime("12:00");
  pickerfri1.picker = "12:00";
  pickerfri2.picker = "12:00";
  document.getElementById("notworking-fri").classList.add("notworking");
  document.getElementById("notworking-fri").classList.remove("working");
}
else {
  pickerfri1.picker = null;
  pickerfri2.picker = null;
  pickerfri1.setTime("");
  pickerfri2.setTime("");
  $("#timepicker-fri1").show();
  $("#timepicker-fri2").show();
  document.getElementById("notworking-fri").classList.add("working");
  document.getElementById("notworking-fri").classList.remove("notworking");
}
}
function NotWorkingSat(){
notworkingsat = !notworkingsat;

if (notworkingsat){
  $("#timepicker-sat1").hide();
  $("#timepicker-sat2").hide();
  pickersat1.setTime("12:00");
  pickersat2.setTime("12:00");
  pickersat1.picker = "12:00";
  pickersat2.picker = "12:00";
  document.getElementById("notworking-sat").classList.add("notworking");
  document.getElementById("notworking-sat").classList.remove("working");
}
else {
  pickersat1.picker = null;
  pickersat2.picker = null;
  pickersat1.setTime("");
  pickersat2.setTime("");
  $("#timepicker-sat1").show();
  $("#timepicker-sat2").show();
  document.getElementById("notworking-sat").classList.add("working");
  document.getElementById("notworking-sat").classList.remove("notworking");
}
}
function NotWorkingSun(){
notworkingsun = !notworkingsun;

if (notworkingsun){
  $("#timepicker-sun1").hide();
  $("#timepicker-sun2").hide();
  pickersun1.setTime("12:00");
  pickersun2.setTime("12:00");
  pickersun1.picker = "12:00";
  pickersun2.picker = "12:00";
  document.getElementById("notworking-sun").classList.add("notworking");
  document.getElementById("notworking-sun").classList.remove("working");
}
else {
  pickersun1.picker = null;
  pickersun2.picker = null;
  pickersun1.setTime("");
  pickersun2.setTime("");
  $("#timepicker-sun1").show();
  $("#timepicker-sun2").show();
  document.getElementById("notworking-sun").classList.add("working");
  document.getElementById("notworking-sun").classList.remove("notworking");
}
}

$(function() {
$("form[name='newemployee']").validate({
    // Specify validation rules
    rules: {
      // The key name on the left side is the name attribute
      // of an input field. Validation rules are defined
      // on the right side
      firstname: "required",
      lastname: "required",
      phone: "required",
      email: {
        required: true,
        // Specify that email should be validated
        // by the built-in "email" rule
        email: true
      },
      password: {
        required: true,
        minlength: 5
      }
    },
    // Specify validation error messages
    messages: {
      firstname: "First name is required",
      lastname: "Last name is required",
      phone: "Please add a valid phone number"
      // password: {
      //   required: "Please provide a password",
      //   minlength: "Your password must be at least 5 characters long"
      ,
      email: "Please enter a valid email address"
    },
    // Make sure the form is submitted to the destination defined
    // in the "action" attribute of the form when valid
    //  submitHandler: function(e) {
    //   var validator = $( "#newemployee" ).validate();
    //       validated = validator.form();
    //       console.log(validator);
    //  }
    //   form.preventDefault();
    //   onsubmit();
    // }
  });
  });
  $("form").submit(function(e){   
    var validator = $( "#newemployee" ).validate();
    var validated = validator.form();
    if (validated){
    e.preventDefault();
    onsubmit();}
    else{
      return}
});

</script>

</body>